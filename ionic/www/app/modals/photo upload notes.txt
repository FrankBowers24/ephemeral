how should photo upload work?


two use cases:


add a photo to existing event (simpler)

click the <add photo> button
  HTML file select has them choose a file.
  <async>client sends request to server for presigned URL (psych - we don't need a signed url because the server is wide open).  server generates filename, adds record linking this photo to this event.
  <async>client gets back a signed URL.  it is important that this is actually used (to preserve filename)

  when a file has been chosen, initiate upload.
  if upload fails or is cancelled, send request to server to destroy that photo record.

include a photo when creating a new event (trickier)

click the <add photo> button
  HTML file select has them choose a file.
  <async>client sends request to server for presigned URL (psych - we don't need a signed url because the server is wide open).  server generates filename, adds record linking this photo to this event.
    NOTE: entry in DB will be missing its event_id, because event_id hasn't been created yet!
  <async>client gets back a signed URL.  it is important that this is actually used (to preserve filename)

  when a file has been chosen, initiate upload.
  if upload fails or is cancelled, send request to server to destroy that photo record.

  when 'post event' button is clicked, send along the photo filename.
  generate event in DB, then look up the photo that the client just uploaded, and update its event_id field.




questions: 
  given the open-door nature of the S3 server (for now at least), would it be better for the client to make up a filename rather than asking our server? would greatly simplify the process.  YES, do this at least for now.
